### `Common.js`

每个文件就是一个模块，有自己的作用域。在这个文件定义的变量、函数、类都是私有的，对其他文件不可见。

> CommonJs规范规定，每个模块内部都有一个`module`对象，代表当前模块，它有一个属性`exports`，即`module.exports`是对外的接口，加载模块时，其实就是加载该模块的`module.exports`属性

CommonJs模块的特点

> 1. 所有代码都在模块作用域内，不回污染全局作用域
> 2. 模块可以多次加载，但只会在第一次加载的时候运行一次，运行的结果就会被缓存起来，以后再加载直接从缓存读取。
> 3. 模块的加载属性时按照在代码中的顺序

module.exports属性

> `module.exports`属性表示当前模块对外输出的接口，其他文件加载该模块，实际上是读取`module.exports`变量

exports变量

> 为了方便，Node为每个模块提供一个`experts`变量相当于：
>
> var exports = module.exports
>
> 注意：
>
> **不能直接将exports变量指向一个值，因为这样会切断exports和module.exports的联系**

require命令加载规则

> 1. 默认加载后缀为.js的文件
> 2. 以`/`开头表示加载一个位于绝对路径的模块文件
> 3. 以`./`开头表示加载一个位于相对路径的模块文件（当前执行脚本的位置）
> 4. 没有`/`或者`./`表示加载一个全局安装或者局部安装的模块(node_module中)

缓存的模块保存在`require.cache`中

